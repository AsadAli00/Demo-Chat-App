(this["webpackJsonpdemo-chat-app"]=this["webpackJsonpdemo-chat-app"]||[]).push([[0],{41:function(e,t,n){},42:function(e,t,n){},52:function(e,t,n){"use strict";n.r(t);var c=n(5),a=n(1),r=n(23),o=n.n(r),s=(n(41),n(42),n(14)),i=n(15),u=n(18),p=n(17),h=n(33),d=n(6),l=n(16),b=n(28);n(46),n(48);b.a.initializeApp({apiKey:"AIzaSyCv6QiXhizyAg-CquVSfCrpHerGER7EJkI",authDomain:"chat-app-demo-cfe65.firebaseapp.com",databaseURL:"https://chat-app-demo-cfe65.firebaseio.com",projectId:"chat-app-demo-cfe65",storageBucket:"chat-app-demo-cfe65.appspot.com",messagingSenderId:"503378303014",appId:"1:503378303014:web:9a4bef31601429dfca6ee7",measurementId:"G-4LY7N47NWM"});var j=b.a,f=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.get_users()}},{key:"render",value:function(){console.log("firebase users => ",this.props.users);var e=this.props.current_user;return console.log(e),Object(c.jsxs)("div",{children:[Object(c.jsxs)("h4",{children:["Welcome ",e.name," "]}),Object(c.jsx)("img",{alt:"profile",src:e.profile}),Object(c.jsxs)("h5",{children:["Email:",e.email]}),Object(c.jsx)("div",{children:Object(c.jsx)("div",{children:Object(c.jsx)("h4",{children:"Chat Users:"})})})]})}}]),n}(a.Component),O=Object(l.b)((function(e){return{current_user:e.current_user,users:e.users}}),(function(e){return{get_users:function(){return e((function(e){var t=[];j.database().ref("/").child("users").on("child_added",(function(e){t.push(e.val())})),e({type:"SETFIREBASEUSERS",payload:t})}))}}}))(f),m=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){var e=this;return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Home "}),Object(c.jsx)("button",{onClick:function(){return e.props.facebook_login(e.props.history)},children:"Facebook Login"})]})}}]),n}(a.Component),v=Object(l.b)((function(e){return{}}),(function(e){return{facebook_login:function(t){return e((n=t,function(e){var t=new j.auth.FacebookAuthProvider;j.auth().signInWithPopup(t).then((function(t){t.credential.accessToken;var c=t.user,a={name:c.displayName,email:c.email,profile:c.photoURL,uid:c.uid};j.database().ref("/").child("users/".concat(c.uid)).set(a).then((function(){e({type:"SETUSER",payload:a}),alert("User Login Successfull"),n.push("/chat")}))})).catch((function(e){e.code,e.message,e.email,e.credential}))}));var n}}}))(m),g=function(e){Object(u.a)(n,e);var t=Object(p.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(c.jsxs)(h.a,{children:[Object(c.jsx)(d.a,{exact:!0,path:"/",component:v}),Object(c.jsx)(d.a,{exact:!0,path:"/chat",component:O})]})}}]),n}(a.Component);var y=function(){return Object(c.jsx)(g,{})},x=n(35),S=n(21),E={users:[],current_user:""},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(console.log("app==>",t),t.type){case"SETUSER":return Object(S.a)(Object(S.a)({},e),{},{current_user:t.payload});case"SETFIREBASEUSERS":return Object(S.a)(Object(S.a)({},e),{},{users:[].concat(Object(x.a)(e.users),[t.payload])});default:return e}},C=n(20),I=n(34),_=Object(C.c)(k,Object(C.a)(I.a)),R=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,53)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};o.a.render(Object(c.jsx)(l.a,{store:_,children:Object(c.jsx)(y,{})}),document.getElementById("root")),R()}},[[52,1,2]]]);
//# sourceMappingURL=main.008ce2e7.chunk.js.map